# -*- coding: utf-8 -*-

import pytholog as pl

new_kb = pl.KnowledgeBase("app")

new_kb([
    "fermata(f1,via_giusepp_capruzzi(1))",  # fermata(numero_fermata, nome_fermata)
    "fermata(f2,bari_centrale)",
    "fermata(f3,via giuseppe_capruzzi(3))",
    "fermata(f4,corso_cavour(1))",
    "fermata(f5,via_caduti_di_via_fani)",
    "fermata(f6,sottovia_quintino_sella)",
    "fermata(f7,corso_cavour(2))",
    "fermata(f8,via_antonio_beatillo(1))",
    "fermata(f9,via_melo_da_bari(1))",
    "fermata(f10,via_prospero_petroni)",
    "fermata(f11,piazza_umberto_1(1))",
    "fermata(f12,piazza_umberto_1(2))",
    "fermata(f13,via_antonio_beatillo(2))",
    "fermata(f14,piazza_umberto_1(3))",
    "fermata(f15,via_sparano_da_bari(1))",
    "fermata(f16,via_scipione_crisanzio(1))",
    "fermata(f17,via_quintino_sella(1))",
    "fermata(f18,corso_cavour(3))",
    "fermata(f19,via_melo_da_bari(2))",
    "fermata(f20,via_principe_amedeo(1))",
    "fermata(f21,via_dante_alighieri(1))",
    "fermata(f22,via_domenico_nicolai(1))",
    "fermata(f23,piazza_cesare_battisti(1))",
    "fermata(f24,via_michele_garruba)",
    "fermata(f25,piazza_cesare_battisti(2))",
    "fermata(f26,via_amendola(1))",
    "fermata(f27,via_amendola(2))",
    "fermata(f28,via_capruzzi(4))",
    "fermata(f29,via_dei_mille(1))",
    "fermata(f30,politecnico/campus-via_edoardo_orabona)",
    "fermata(f31,via_re_david(1))",
    "fermata(f32,via_gaetano_postiglione(1))",
    "fermata(f33,via_celso_upiani(1))",
    "fermata(f34,via_gaetano_postiglione(2))",
    "fermata(f35,via_celso_ulpiani(2))",
    "fermata(f36,via_re_david(3))",
    "fermata(f37,via_giuseppe_fanelli)",
    "fermata(f38,via_stefano_jacini(1))",
    "fermata(f39,via_della_resistenza(1))",
    "fermata(f40,viale_luigi_enaudi(1))",
    "fermata(f41,viale_unità_d_italia(1))",
    "fermata(f42,via_antonio_meucci)",
    "fermata(f43,via_della_costituente(1))",
    "fermata(f44,corso_benedetto_croce(1))",
    "fermata(f45,viale_don_luigi_sturzo)",
    "fermata(f46,viale_antonio_salandra)",
    "fermata(f47,via_gaetano_devitofrancesco)",
    "fermata(f48,via_giulio_petroni(1))",
    "fermata(f49,via_francesco_campione(1))",
    "fermata(f50,via_scipione_l_africano)",
    "fermata(f51,viale_orazio_flacco(1))",
    "fermata(f52,viale_papa_giovanni_xxiii(1))",
    "fermata(f53,via_pasubio(1))",
    "fermata(f54,via_nicola_de_gemmis(1))",
    "fermata(f55,via_luigi_ricchioni)",
    "fermata(f56,via_timavo)",
    "fermata(f57,via_camillo_rosalba)",
    "fermata(f58,viale_john_fitzgerald_kennedy)",
    "fermata(f59,facoltà_di_economia)",
    "fermata(f60,brigata_bari)",
    "fermata(f61,bari_policlinico)",
    "fermata(f62,bari_sud_est)",
    "fermata(f63,incrocio_via_caldarola)",
    "fermata(f64,bari_marconi)",
    "fermata(f65,viale_japigia)",
    "fermata(f66,bari_parco_sud)",
    "fermata(f67,bari_quintino_sella)",
    "fermata(f68,sottovia_quintino_sella(2))",

    "orario_feriale(f1,h05_12,h22_15)",  # orario_feriale(numero_fermata, ora_prima_corsa, ora_ultima_corsa)
    "orario_feriale(f2,h05_15,h21_15)",
    "orario_feriale(f3,h05_18,h22_15)",
    "orario_feriale(f4,h05_22,h20_22)",
    "orario_feriale(f5,h05_10,h21_10)",
    "orario_feriale(f6,h05_35,h22_35)",
    "orario_feriale(f7,h05_45,h20_45)",
    "orario_feriale(f8,h05_01,h19_01)",
    "orario_feriale(f9,h05_52,h21_32)",
    "orario_feriale(f10,h05_11,h20_11)",
    "orario_feriale(f11,h06_35,h22_35)",
    "orario_feriale(f12,h05_41,h21_41)",
    "orario_feriale(f13,h05_04,h22_04)",
    "orario_feriale(f14,h05_09,h20_09)",
    "orario_feriale(f15,h05_58,h19_58)",
    "orario_feriale(f16,h06_00,h22_00)",
    "orario_feriale(f17,h06_16,h23_16)",
    "orario_feriale(f18,h05_08,h21_08)",
    "orario_feriale(f19,h05_32,h20_32)",
    "orario_feriale(f20,h05_49,h22_49)",
    "orario_feriale(f21,h06_01,h21_01)",
    "orario_feriale(f22,h06_19,h22_19)",
    "orario_feriale(f23,h08_17,h21_17)",
    "orario_feriale(f24,h08_00,h20_00)",
    "orario_feriale(f25,h06_02,h21_06)",
    "orario_feriale(f26,h05_52,h22_32)",
    "orario_feriale(f27,h05_43,h21_43)",
    "orario_feriale(f28,h07_11,h22_11)",
    "orario_feriale(f29,h05_11,h20_11)",
    "orario_feriale(f30,h05_34,h21_34)",
    "orario_feriale(f31,h05_01,h22_01)",
    "orario_feriale(f32,h06_15,h23_15)",
    "orario_feriale(f33,h06_16,h21_16)",
    "orario_feriale(f34,h05_18,h22_18)",
    "orario_feriale(f35,h06_05,h21_05)",
    "orario_feriale(f36,h05_19,h20_19)",
    "orario_feriale(f37,h06_00,h21_00)",
    "orario_feriale(f38,h06_23,h22_23)",
    "orario_feriale(f39,h05_23,h19_23)",
    "orario_feriale(f40,h08_19,h20_19)",
    "orario_feriale(f41,h07_42,h21_42)",
    "orario_feriale(f42,h06_01,h20_01)",
    "orario_feriale(f43,h05_26,h22_26)",
    "orario_feriale(f44,h05_28,h21_28)",
    "orario_feriale(f45,h06_12,h20_12)",
    "orario_feriale(f46,h05_14,h21_14)",
    "orario_feriale(f47,h07_14,h22_14)",
    "orario_feriale(f48,h08_01,h20_01)",
    "orario_feriale(f49,h05_26,h21_26)",
    "orario_feriale(f50,h05_29,h22_29)",
    "orario_feriale(f51,h06_46,h20_46)",
    "orario_feriale(f52,h05_14,h20_14)",
    "orario_feriale(f53,h06_01,h22_01)",
    "orario_feriale(f54,h06_40,h21_40)",
    "orario_feriale(f55,h05_20,h22_20)",
    "orario_feriale(f56,h07_00,h21_00)",
    "orario_feriale(f57,h07_12,h22_12)",
    "orario_feriale(f58,h06_35,h21_35)",
    "orario_feriale(f59,h05_48,h22_48)",
    "orario_feriale(f60,h05_52,h20_52)",
    "orario_feriale(f61,h05_56,h21_56)",
    "orario_feriale(f62,h05_05,h22_05)",
    "orario_feriale(f63,h07_02,h21_02)",
    "orario_feriale(f64,h06_38,h22_38)",
    "orario_feriale(f65,h07_05,h21_05)",
    "orario_feriale(f66,h05_42,h20_42)",
    "orario_feriale(f67,h05_09,h22_09)",
    "orario_feriale(f68,h07_04,h21_04)",

    "orario_festivo(f1,h09_12,h00_15)",  # orario_festivo(numero_fermata, ora_prima_corsa, ora_ultima_corsa)
    "orario_festivo(f2,h09_15,h23_15)",
    "orario_festivo(f3,h09_18,h00_15)",
    "orario_festivo(f4,h09_22,h00_22)",
    "orario_festivo(f5,h09_10,h23_10)",
    "orario_festivo(f6,h09_35,h00_35)",
    "orario_festivo(f7,h09_45,h00_45)",
    "orario_festivo(f8,h09_01,h23_01)",
    "orario_festivo(f9,h09_52,h23_32)",
    "orario_festivo(f10,h09_11,h00_11)",
    "orario_festivo(f11,h10_35,h00_35)",
    "orario_festivo(f12,h09_41,h23_41)",
    "orario_festivo(f13,h09_04,h00_04)",
    "orario_festivo(f14,h09_09,h00_09)",
    "orario_festivo(f15,h09_58,h23_58)",
    "orario_festivo(f16,h10_00,h00_00)",
    "orario_festivo(f17,h10_16,h23_16)",
    "orario_festivo(f18,h09_08,h23_08)",
    "orario_festivo(f19,h09_32,h00_32)",
    "orario_festivo(f20,h09_49,h00_49)",
    "orario_festivo(f21,h10_01,h23_01)",
    "orario_festivo(f22,h10_19,h00_19)",
    "orario_festivo(f23,h10_17,h23_17)",
    "orario_festivo(f24,h10_00,h00_00)",
    "orario_festivo(f25,h10_02,h23_06)",
    "orario_festivo(f26,h09_52,h00_32)",
    "orario_festivo(f27,h09_43,h23_43)",
    "orario_festivo(f28,h09_11,h00_11)",
    "orario_festivo(f29,h09_11,h00_11)",
    "orario_festivo(f30,h09_34,h23_34)",
    "orario_festivo(f31,h09_01,h00_01)",
    "orario_festivo(f32,h10_15,h23_15)",
    "orario_festivo(f33,h10_16,h23_16)",
    "orario_festivo(f34,h09_18,h00_18)",
    "orario_festivo(f35,h10_05,h23_05)",
    "orario_festivo(f36,h09_19,h00_19)",
    "orario_festivo(f37,h10_00,h23_00)",
    "orario_festivo(f38,h10_23,h00_23)",
    "orario_festivo(f39,h09_23,h23_23)",
    "orario_festivo(f40,h10_19,h00_19)",
    "orario_festivo(f41,h09_42,h23_42)",
    "orario_festivo(f42,h10_01,h00_01)",
    "orario_festivo(f43,h09_26,h00_26)",
    "orario_festivo(f44,h09_28,h23_28)",
    "orario_festivo(f45,h10_12,h00_12)",
    "orario_festivo(f46,h09_14,h23_14)",
    "orario_festivo(f47,h09_14,h00_14)",
    "orario_festivo(f48,h10_01,h00_01)",
    "orario_festivo(f49,h09_26,h23_26)",
    "orario_festivo(f50,h09_29,h00_29)",
    "orario_festivo(f51,h10_46,h00_46)",
    "orario_festivo(f52,h09_14,h00_14)",
    "orario_festivo(f53,h10_01,h00_01)",
    "orario_festivo(f54,h10_40,h23_40)",
    "orario_festivo(f55,h09_20,h00_20)",
    "orario_festivo(f56,h09_00,h23_00)",
    "orario_festivo(f57,h09_12,h00_12)",
    "orario_festivo(f58,h10_35,h23_35)",
    "orario_festivo(f59,h09_48,h00_48)",
    "orario_festivo(f60,h09_52,h00_52)",
    "orario_festivo(f61,h09_56,h23_56)",
    "orario_festivo(f62,h09_05,h00_05)",
    "orario_festivo(f63,h09_02,h23_02)",
    "orario_festivo(f64,h10_38,h00_38)",
    "orario_festivo(f65,h09_05,h23_05)",
    "orario_festivo(f66,h09_42,h00_42)",
    "orario_festivo(f67,h09_09,h00_09)",
    "orario_festivo(f68,h09_04,h23_04)",


    "pedana_disabili(id1,y)",
    "pedana_disabili(id4,y)",
    "pedana_disabili(id6,y)",
    "pedana_disabili(id10,y)",
    "pedana_disabili(id2,n)",
    "pedana_disabili(id3,n)",
    "pedana_disabili(id5,n)",
    "pedana_disabili(id7,n)",
    "pedana_disabili(id8,n)",
    "pedana_disabili(id9,n)",

    "compra_biglietto_sul_bus(id1,y)",
    "compra_biglietto_sul_bus(id2,y)",
    "compra_biglietto_sul_bus(id3,n)",
    "compra_biglietto_sul_bus(id4,n)",
    "compra_biglietto_sul_bus(id5,s)",
    "compra_biglietto_sul_bus(id6,n)",
    "compra_biglietto_sul_bus(id7,n)",
    "compra_biglietto_sul_bus(id8,s)",
    "compra_biglietto_sul_bus(id9,n)",
    "compra_biglietto_sul_bus(id10,s)",

    "tabella_fermata_feriale(I,N,H1,H2):-fermata(I,N),orario_feriale(I,H1,H2)",

    "tabella_fermata_festiva(I,N,H1,H2):-fermata(I,N),orario_festivo(I,H1,H2)"])


def ask_KB(new_kb, x):
    results = set()
    print("Query: " + str(x))
    y = new_kb.query(pl.Expr(x))

    print("Risultati\n", y)
    s = ""
    for e in y:
        s = str(e)
        results.add(s)
    return results

#print(ask_KB(new_kb,"pedana_disabili(A,y)"))